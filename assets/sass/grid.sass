@keyframes animatedNext
  from 
    background-position: 0 0
  
  to 
    background-position: 6px 0

// #next
//   // display: flex
//   pointer-events: none
//   a
//     @extend .title
//     @extend .is-1
//     +text-stroke()
//     font-variant: small-caps
//     flex: 1 0 auto
//     background-color: #ffffff
//     background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-opacity='1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E")
//     background-position: 0 0

//     // workaround for isotope layout
//     margin-top: 480px
    
//     &:hover
//       animation: animatedNext 1s linear infinite

// .page-load-status 
//   display: none
//   position: fixed
//   right: 0
//   bottom: 0
//   width: 100%

//   @keyframes loading 
//     from 
//       width: 0%
//     to 
//       width: 100%

//   .infinite-scroll-request
//     $height: 33vh
//     height: $height
//     width: 100%
//     position: relative
//     overflow: hidden
//     background-color: transparent
//     &:before
//       display: block
//       position: absolute
//       content: ""
//       left: 0px
//       width: 0px
//       height: $height
//       // background-color: #ffffff
//       background-color: transparent
//       background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-opacity='1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E")
//       animation: loading 2s linear infinite


// Encode/Decode urls:
// http://www.utilities-online.info/urlencode/
=columns($count: 12)
  $col: "auto "
  $cols: ""
  @for $i from 0 to $count 
    $cols: $cols + $col;
  grid-template-columns: unquote("#{$cols}")

#grid-wrap
  pointer-events: none
  opacity: 0
  margin-top: 6rem
  z-index: 5
  position: relative

#grid
  position: relative
  width: 100vw
  height: 100%
  padding-bottom: 62vh
  
  // display: flex
  // flex-direction: column

  display: grid
  grid-auto-rows: 1.5rem
  +columns(24)

  $gap: 1px
  grid-column-gap: $gap
  grid-row-gap: $gap
  
  justify-content: stretch
  justify-items: center
  grid-auto-flow: row
  
  .grid-item 
    position: relatives;
    -webkit-backface-visibility: hidden
    -webkit-perspective: 1000
    // mix-blend-mode: multiply
    background: transparent
    // background: $yellow
    // border: 1px solid $grey

    // padding: 9rem 1.5rem
    display: flex
    z-index: 2

    
    align-self: stretch
    justify-self: stretch

    grid-row: span 1
    grid-column: span 2

    +mobile 
      grid-column: span 12

    +tablet
      grid-column: span 4
    
    +desktop
      grid-column: span 4
    
    +widescreen
      grid-column: span 4
    
    +fullhd
      grid-column: span 3

    // grid-row: 1 / span 2

    &[data-emphasis]
      // background: $red
      background: #ff0000
      // background: #ffff00
      // mix-blend-mode: multiply

    



    // &:after
    //   content: ""
    //   pointer-events: none
    //   position: absolute
    //   top: 0
    //   left: 0
    //   width: 100%
    //   height: 100%
    //   +z-depth-6dp-inset()
    //   z-index: 2

    & > .content
      -webkit-backface-visibility: hidden
      -webkit-perspective: 1000
      display: flex
      flex: 1 0 auto
      z-index: 1
      margin: 0
      pointer-events: all
      position: relative
      // overflow: hidden

      // border: 1px solid $red
      &[shadow-2]
        +z-depth-2dp
      &[shadow-3]
        +z-depth-3dp
      &[shadow-4]
        +z-depth-4dp
      &[shadow-6]
        +z-depth-6dp
      &[shadow-8]
        +z-depth-8dp
      &[shadow-16]
        +z-depth-16dp


      .image
        mix-blend-mode: normal
        flex: 1 0 auto
        top: 0
        left: 0
        width: 100%
        height: 100%
        background-size: cover
        background-repeat: no-repeat
        background-position: center center
        overflow: hidden
        
      .overlay-frame
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
        overflow: hidden
        display: flex
        align-items: flex-end

        .overlay
          position: absolute
          top: 0
          left: 0
          width: 100%
          height: 100%
          z-index: 0

        .title
          flex: 0 0 auto
          width: 100%
          font-size: 3rem
          z-index: 1
          mix-blend-mode: soft-light
          line-height: 1
          padding: 1rem
          transform: translateX(100%)
          font-weight: 800

          display: flex
          align-items: center

          .button
            display: inline-block
            flex: 0 1 auto
            margin-right: 0.5rem
            border-radius: 100%

            +z-depth-transition()
            +z-depth-2dp()
        
            &:hover
              +z-depth-focus()

          span
            flex: 0 1 auto
  
    .text
      // color: $grey
      color: $black
      pointer-events: none
      // mix-blend-mode: multiply
      // color: #FF9E4F
      // +z-depth-2dp()
      // border: 1px solid $red

      font-weight: 700
      line-height: 0.81
      position: absolute
      left: 0
      top: 0
      // top: -3rem
      z-index: 2
      pointer-events: none